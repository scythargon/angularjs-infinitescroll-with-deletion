/* ng-infinite-scroll - v1.0.0 - 2014-08-17 */
var mod;mod=angular.module("infinite-scroll",[]),mod.directive("infiniteScroll",["$rootScope","$window","$timeout",function(i,n,e){return{restrict:"A",scope:{infiniteScrollObjects:"=",infiniteScroll:"&",infiniteScrollVisibilityKey:"@"},link:function(t,o,l){var r,c,f,s,d;return n=angular.element(n),s=0,null!=l.infiniteScrollDistance&&t.$watch(l.infiniteScrollDistance,function(i){return s=parseInt(i,10)}),d=!0,r=!1,null!=l.infiniteScrollDisabled&&t.$watch(l.infiniteScrollDisabled,function(i){return d=!i,d&&r?(r=!1,c()):void 0}),f=function(){var i,n,e,l;for(l=t.infiniteScrollObjects,n=0,e=l.length;e>n;n++)i=l[n],o=$("#post_"+i.id),o.position().top+o.height()+500<window.pageYOffset&&(o.hidden=!0,window.scrollTo(0,window.pageYOffset-o.height()),o.hide(),console.log("#post_"+i.id+" is hidden now"))},c=function(){var e,l,c,a;return f(),a=n.height()+n.scrollTop(),e=o.offset().top+o.height(),l=e-a,c=n.height()*s>=l,c&&d?i.$$phase?t.infiniteScroll():(t.infiniteScroll(),t.$apply()):c?r=!0:void 0},n.on("scroll",c),t.$on("$destroy",function(){return n.off("scroll",c)}),e(function(){return l.infiniteScrollImmediateCheck?t.$eval(l.infiniteScrollImmediateCheck)?c():void 0:c()},0)}}}]);